# 用 v0 从提示到上线：生成、运行、修复并发布一个“习惯打卡”落地页

目标：用 v0 生成一个 Next.js 应用的着陆页，下载代码后本地运行、修复问题、并提交到 GitHub（可选再部署到 Vercel）。

说明：v0 默认以 Next.js App Router 为基座，推荐“先做 UI→再加数据→逐步上线”的增量工作流。本教程也遵循该范式 [^3]。

第 0 步：准备
- Node.js >= 18
- pnpm 或 npm
- Git 与 GitHub 账号（可选）
- v0 打开本页面的同时，保持“Block 预览”可见

第 1 步：在 v0 给出首轮提示词并预览
建议直接复制：
\`\`\`
请生成一个“习惯打卡 Habit Hero”的响应式落地页（Next.js App Router）。要求：
- 顶部导航（Logo、Features、Pricing、CTA “Get Started”）
- Hero（标题、卖点要点 3 条、两个按钮）
- 三列 Features 栏（图标来自 lucide-react）
- Testimonials（2 条）
- Footer（公司与社媒链接占位）
- 使用 Tailwind，颜色偏中性，避免蓝色；移动端优先
- 所有文案用英文；图片用 /placeholder.svg?height=...&width=...&query=habit%20hero
- 生成完整组件文件，保证可运行
\`\`\`
- v0 生成后，查看右侧预览是否符合预期；不满意就“再来一版”或“仅替换 Hero 文案/颜色”

第 2 步：下载代码并安装依赖
1. 点击右上角“Download Code”导出项目
2. 在本机解压后进入目录
\`\`\`bash
pnpm i
pnpm dev
# 浏览器访问 http://localhost:3000
\`\`\`

第 3 步：本地构建与生产预览
\`\`\`bash
pnpm build
pnpm start
# 再次访问 http://localhost:3000
\`\`\`

第 4 步：常见问题与修复套路
1) 端口被占用
\`\`\`bash
# 终端显示 EADDRINUSE 3000
pnpm dev --port 3001
\`\`\`
2) 客户端组件缺少 `'use client'`
- 报错表现：在 Server Component 中使用了 useState/useEffect
- 修复：在对应文件首行加入 'use client'，或把逻辑下沉到客户端组件
3) 样式不生效
- 确认 app/globals.css 被 layout.tsx 正确引入
- 检查 tailwind.config.ts 的 content 是否包含 ./app 与 ./components
4) 资源路径 404
- 本地文件请放到 public/ 下，使用以 / 开头的绝对路径引用
5) 类型错误
- 按照编译器给的提示修正类型；若使用外部包，请安装对应 @types/xxx

第 5 步：把“外观改动”回注到 v0 再生成
- 在 v0 中回复：“把 CTA 改成对比色的幽灵按钮，Testimonials 加一条，给 Hero 补充一行副标题”
- 预览满意后，重新下载并手动对比差异（或把修改点转写到本地现有项目）

第 6 步：连接并提交到 GitHub
命令行流程
\`\`\`bash
git init
git add -A
git commit -m "feat: bootstrap Habit Hero landing page (generated by v0)"
# 到 GitHub 新建空仓库 habit-hero
git branch -M main
git remote add origin https://github.com/<你的用户名>/habit-hero.git
git push -u origin main
\`\`\`
或使用编辑器/GUI 客户端推送

第 7 步：部署到 Vercel（可选）
- 在 Vercel dashboard → “Import Git Repository” → 选择 habit-hero
- Framework 自动识别 Next.js，直接 Deploy
- 首次上线后，开启 Preview 环境，PR 即可生成预览链接
- 如果你在 v0 里，右上角也可一键 Deploy 到 Vercel（等价于上述流程） [^3]

第 8 步：本地验证与手动测试建议
- 响应式：缩放窗口，验证导航折叠与按钮点击
- 无障碍：Tab 键遍历焦点，按钮具备 aria-label
- 性能：打开 DevTools Lighthouse 做一次快照
- 链接：所有锚点应滚动到对应区域或打开新页

第 9 步：下一步（增量开发思路）
- “先 UI 后数据”：先把落地页换成仪表盘，再接入 API/数据库 [^3]
- 把静态 Testimonials 改成从 /api/testimonials 读取
- 新增 /pricing 路由与组件，抽离导航为共享组件
- 添加脚手架脚本与 ESLint 规则，建立 CI 构建

小结
- v0 负责“高质量初稿 #43; 预览”，你负责“下载、运行、对比与发布”
- 遇到问题先本地跑 dev/ build，通过编译器与终端日志定位；必要时把错误粘贴回 v0 或编辑器 AI 进行最小化修复
- 始终以小步快跑的增量方式推进功能 [^3]

术语小词典（v0/Next.js/部署）
-----------------------------
- CodeProject：v0 生成的一组可运行文件块，可预览、QuickEdit、下载与部署。
- QuickEdit：在不重写整文件的情况下，对某段代码做 1–20 行的小修改，明确“改哪里、怎么改”即可。
- Next.js App Router：以 app/ 目录为中心的路由方式，原生支持服务端组件与并行路由，v0 默认使用该范式 [^3]。
- React Server Components（RSC）：在服务器渲染的组件，减少前端包体；与客户端组件按需组合以兼顾性能与交互。
- Route Handler 与 Server Action：Next.js 中写后端逻辑的两种方式，分别用于 API 路由与表单/按钮直连的服务器函数 [^3]。
- 环境变量（Environment Variables）：存放密钥与配置的“保险柜”。客户端可读的变量必须以 NEXT_PUBLIC_ 开头；敏感密钥仅在服务端使用。
- 构建（build）与开发（dev）：dev 用于本地快速预览；build 用于产出优化过的线上包并暴露类型/依赖问题。
- Tailwind 与 lucide-react：前者负责快速样式，后者提供矢量图标；在 v0 里通常已预装好，无需重复安装。
- 资源目录 public/：静态文件的“对外开放区”，通过以 / 开头的绝对路径引用，如 /images/logo.png。
- 预览环境（Preview）与生产（Production）：GitHub PR 自动生成的临时预览链接用于验收；合并到主分支后会触发正式生产部署 [^3]。
- 部署到 Vercel：把 GitHub 仓库导入 Vercel 即可自动识别 Next.js 并部署；支持环境变量管理、日志与回滚 [^3]。
- 渐进式迭代：按“先 UI 后数据”的节奏开发，每次小改动都在 dev/ build 下验证，再提交到 Git，降低出错与回滚成本 [^3]。
